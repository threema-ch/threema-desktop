{
  "name": "threema-desktop",
  "productName": "Threema Tech Preview",
  "description": "Use Threema on your Desktop",
  "author": "Threema GmbH",
  "version": "2.0.0-preview7",
  "versionCode": 9,
  "license": "AGPL-3.0+",
  "homepage": "https://threema.ch/",
  "keywords": [
    "threema",
    "messenger",
    "communication"
  ],
  "private": true,
  "type": "module",
  "main": "build/electron/electron-main/electron-main.cjs",
  "sideEffects": false,
  "scripts": {
    "clean": "rm -rf build && rm -rf packaging/build",
    "coverage:report": "nyc report",
    "build": "npm run rebuild && node tools/build-electron.cjs",
    "dist:consumer-sandbox": "npm run build consumer sandbox && node tools/dist-electron.cjs consumer sandbox",
    "dist:consumer-live": "npm run build consumer live && node tools/dist-electron.cjs consumer live",
    "dist:work-sandbox": "npm run build work sandbox && node tools/dist-electron.cjs work sandbox",
    "dist:work-live": "npm run build work live && node tools/dist-electron.cjs work live",
    "dist:open:linux": "build/electron/packaged/Threema\\ Tech\\ Preview-linux-$(uname -m | sed 's/86_//')/Threema\\ Tech\\ Preview",
    "dist:open:macos": "open build/electron/packaged/Threema\\ Tech\\ Preview-darwin-$(uname -m | sed 's/86_//')/Threema\\ Tech\\ Preview.app",
    "dev:consumer-sandbox": "npm run rebuild && tools/dev-electron.sh consumer sandbox",
    "dev:consumer-live": "npm run rebuild && tools/dev-electron.sh consumer live",
    "dev:work-sandbox": "npm run rebuild && tools/dev-electron.sh work sandbox",
    "dev:work-live": "npm run rebuild && tools/dev-electron.sh work live",
    "rebuild": "electron-rebuild",
    "test:karma": "VITE_MAKE=electron,karma-tests,consumer,sandbox vite build -m development -c config/vite.config.ts && karma start config/karma.cjs --single-run",
    "test:mocha": "VITE_MAKE=electron,mocha-tests,consumer,sandbox vite build -m development -c config/vite.config.ts && mocha build/electron/mocha-tests/run-specs.cjs",
    "lint": "for t in tsc:parallel svelte eslint prettier; do npm run lint:${t} || FAILED+=(${t}); done; if [ -n \"${FAILED}\" ]; then echo; echo 'Failed:' ${FAILED[@]}; echo; false; else echo; echo 'All linters passed.'; echo; fi",
    "lint:fix": "npm run lint:eslint:fix && npm run lint:prettier:fix",
    "lint:tsc": "find src -name tsconfig.json -exec echo {} \\; -exec npx tsc --noEmit -p {} \\;",
    "lint:tsc:parallel": "find src -name tsconfig.json | xargs -I{} -P $(getconf _NPROCESSORS_ONLN) npx tsc --noEmit -p {}",
    "lint:tsc:parallel:uniq": "npm run lint:tsc:parallel | grep -- '^src/' | sort -u",
    "lint:eslint": "eslint . --ext .js,.cjs,.mjs,.svelte,.ts",
    "lint:eslint:fix": "eslint . --ext .js,.cjs,.mjs,.svelte,.ts --fix",
    "lint:prettier": "prettier -c \"**/*.{css,html,js,json,md,scss,svelte,ts,yml}\"",
    "lint:prettier:fix": "prettier --write \"**/*.{css,html,js,json,md,scss,svelte,ts,yml}\"",
    "lint:svelte": "svelte-check --fail-on-warnings --ignore \"libs\" --compiler-warnings \"a11y-click-events-have-key-events:ignore\"",
    "package": "npm run package --prefix ./packaging",
    "protobuf:generate": "tools/generate-protobuf.sh",
    "safe-enums:generate": "npm run safe-enums:generate:module && npm run safe-enums:generate:prettify",
    "safe-enums:generate:module": "tools/generate-safe-enums.cjs < src/enum/schema.ts > src/common/enum.ts",
    "safe-enums:generate:prettify": "prettier --write \"src/common/enum.ts\"",
    "structbuf:generate": "npm run structbuf:generate:module && npm run structbuf:generate:prettify",
    "structbuf:generate:module": "structbuf-typescript threema-protocols/*.yml -o src/common/network/structbuf --new-type true --byte-length true --snapshot true --clone true --base-class Struct=~/common/network/structbuf/base --external-import types=~/common/types",
    "structbuf:generate:prettify": "prettier --write \"src/common/network/structbuf/**/*.ts\""
  },
  "engines": {
    "node": ">=18.12.1 <18.14.0",
    "npm": ">=8.19.2 <9.0.0"
  },
  "dependencies": {
    "@badrap/valita": "0.1.9",
    "@mattiasbuelens/web-streams-adapter": "0.1.0",
    "@threema/compose-area": "~0.4.5",
    "@threema/threema-markup": "1.1.0",
    "argon2": "file:libs/node-argon2",
    "autolinker": "4.0.0",
    "better-sqlcipher": "file:libs/better-sqlcipher",
    "fast-sha256": "1.3.0",
    "long": "5.2.1",
    "protobufjs": "6.11.3",
    "scrypt-js": "3.0.1",
    "svelte": "3.53.1",
    "synchronous-promise": "~2.0.17",
    "ts-events": "3.4.1",
    "ts-sql-query": "1.48.0",
    "tweetnacl": "1.0.3",
    "web-streams-polyfill": "~3.2.1"
  },
  "electron": {
    "external": [
      "argon2",
      "better-sqlcipher",
      "electron"
    ],
    "dist": {
      "dependencyTree": {
        "argon2": [
          "@phc/format"
        ]
      },
      "include": {
        "/": "^(LICENSE|package.json|package-lock.json|README.md)$",
        "/build/electron/": "^(app($|\\/)|electron-main($|\\/)|electron-preload($|\\/))",
        "/node_modules/@phc/format/": "^(index.js|package.json)$",
        "/node_modules/argon2/": "^(argon2.js|package.json)$",
        "/node_modules/argon2/build/Release/": "^argon2.node$",
        "/node_modules/better-sqlcipher/": "^(lib($|\\/)|package.json$)",
        "/node_modules/better-sqlcipher/build/Release/": "^better_sqlcipher.node$"
      }
    }
  },
  "devDependencies": {
    "@electron/notarize": "1.2.3",
    "@electron/osx-sign": "1.0.4",
    "@electron/rebuild": "3.2.10",
    "@sveltejs/vite-plugin-svelte": "1.0.0-next.49",
    "@types/chai": "~4.3.0",
    "@types/debug": "~4.1.7",
    "@types/electron-installer-dmg": "~3.0.1",
    "@types/estree": "1.0.0",
    "@types/fs-extra": "~9.0.13",
    "@types/mocha": "~10.0.0",
    "@types/node": "~18.11.18",
    "@types/sinon": "~10.0.11",
    "@types/sinon-chai": "~3.2.9",
    "@typescript-eslint/eslint-plugin": "~5.51.0",
    "@typescript-eslint/parser": "~5.51.0",
    "chai": "~4.3.4",
    "debug": "~4.3.3",
    "electron": "23.0.0",
    "electron-installer-dmg": "~4.0.0",
    "electron-packager": "~17.1.1",
    "es-module-lexer": "~1.1.0",
    "eslint": "~8.33.0",
    "eslint-config-prettier": "~8.6.0",
    "eslint-plugin-jsdoc": "~39.8.0",
    "eslint-plugin-simple-import-sort": "~10.0.0",
    "eslint-plugin-svelte3": "~4.0.0",
    "eslint-plugin-threema": "file:libs/eslint-plugin-threema",
    "fs-extra": "~11.1.0",
    "karma": "~6.4.0",
    "karma-chai": "~0.1.0",
    "karma-chrome-launcher": "~3.1.0",
    "karma-firefox-launcher": "~2.1.2",
    "karma-junit-reporter": "~2.0.1",
    "karma-mocha": "~2.0.1",
    "karma-mocha-reporter": "~2.2.5",
    "magic-string": "0.27.0",
    "mocha": "~10.2.0",
    "mocha-junit-reporter": "~2.2.0",
    "prettier": "2.8.4",
    "prettier-plugin-svelte": "2.9.0",
    "sass": "~1.58.0",
    "sinon": "~15.0.1",
    "sinon-chai": "~3.7.0",
    "structbuf-typescript": "file:libs/structbuf-typescript",
    "svelte-check": "2.9.2",
    "svelte-preprocess": "4.10.7",
    "threema-svelte-components": "file:libs/threema-svelte-components",
    "ts-proto": "~1.137.0",
    "typescript": "~4.9.4",
    "vite": "2.9.15",
    "vite-tsconfig-paths": "3.6.0"
  }
}
